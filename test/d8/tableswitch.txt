;;; ERROR: 1
;;; EXE: test/run-d8.py
(module
  (func $f (param i32) (result i32)
    (label
      (tableswitch (get_local 0)
        ;; v8-native doesn't currently push a new break scope at the right
        ;; place, so (br 0) fails.
        (table (case 0) (br 0) (case 1)) (case 2)
          (case (return (i32.const 0)))     ;; 0
          (case)                            ;; 2, fallthrough
          (case (return (i32.const 2)))))   ;; default
    (return (i32.const 1)))

  (export "test0" $test0)
  (func $test0 (result i32) (call $f (i32.const 0)))

  (export "test1" $test1)
  (func $test1 (result i32) (call $f (i32.const 1)))

  (export "test2" $test2)
  (func $test2 (result i32) (call $f (i32.const 2)))

  (export "test3" $test3)
  (func $test3 (result i32) (call $f (i32.const 3))))
(;; STDERR ;;;

;;; STDERR ;;)
(;; STDOUT ;;;
WasmModule::Instantiate(): Compiling WASM function #0:<?> failed:Result = improper branch in tableswitch @+9

var module = WASM.instantiateModule(buffer, ffi);
                  ^

;;; STDOUT ;;)
